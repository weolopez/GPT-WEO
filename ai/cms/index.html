<!doctype html>
<html lang="en" style="overflow: hidden;">

<head>
    <meta name="version" content="1.0.0">
    <meta name="id" content="cms">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/svg+xml" href="/ai/favicon.svg">
    <!-- <link rel="icon" href="favicon.svg"> -->
    <title>component</title>

   </head>

<body style="visibility: hidden">

    <label style="position:absolute;top:100px;" for="cvc">Enter your CVC <popup-info img="popupinfo/img/alt.png" data-text="Your card validation code (CVC) is an extra security feature — it is the last 3 or 4 numbers on the back of your card."></popup-info></label>
 
<script type="module">
import { CMS } from '/ai/cms/cms.js'


let popupinfoClass = await import(`/ai/cms/popupinfo/popupinfo.js`)




let cms = new CMS()
await cms.initComponents()

// simulate loading components from CMS data
// Page is defined by hash -> pull from CMS data for example
//collection=cms document=<id> this html id=cms  and page is the hash
// for #component = { }
//TODO make data-modules optional use tag name instead
let page = {
    id: "component",
    html: [
        {
            body: `<component id="mycomponent" data-modules="component" class="cms"></component>`,
            body: `<label style="position:absolute;top:200px;" for="cvc">Enter your CVC <popup-info img="popupinfo/img/alt.png" data-text="WEO card validation code (CVC) is an extra security feature — it is the last 3 or 4 numbers on the back of your card."></popup-info></label>`
        }
    ]
}

// load page: this will probably be main loop for wiki loop through page.html and add value to key
page.html.forEach(async (item) => {
    //get key and value from item
    let key = Object.keys(item)[0]
    let value = item[key]
    //get element by tag name of key and append value
    let element = document.getElementsByTagName(key)[0]
    element.innerHTML += value
    //create an element based on value

    // loop through element children and load modules
})


</script>
</body>

</html>